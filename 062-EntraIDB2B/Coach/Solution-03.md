# Challenge 03 - Invite Guest Users in Entra ID tenant - Coach's Guide 

[< Previous Solution](./Solution-02.md) - **[Home](./README.md)** - [Next Solution >](./Solution-04.md)

## Notes & Guidance

Create a new guest user in your Entra ID tenant by clicking Invite guest user in the User screen.

Use your personal email address while creating the guest user. You should get an invitation email from Microsoft.

You can put a personal message while inviting the user.

You can accept the invitation by opening your email and click the Accept Invitation button. 

Open the [authr](https://authr.biz/?requesttype=OpenIdConnect&scope=openid+profile&responsetype=id_token&responsemode=form_post&additionalparameters=prompt%3dlogin&importtype=AzureAD&tenant=microsoft.onmicrosoft.com&clientid=your-client-id) link.

Make sure to change the tenant=microsoft.onmicrosoft.com in the query parameter to your newly created tenant. It should be tenant=yourtenantname.onmicrosoft.com

Verify that Authorization Endpoint and Token Endpoint reflects the change.

Copy the Client ID from the Azure Portal by navigating to Entra ID - App Registration - Overview - Application (client) ID.

Sign In using your personal email address. A One Time Passcode should be sent to your personal email address.

Once you enter the Passcode, you might be asked to create the account in the Authenticator app on your phone. Go ahead and do that.

Once you sign in, you should see the ID Token in the authr.biz site.

Check the "idp" claim. It should be "mail". Check the "iss" claim. It is still your tenant. So, for the B2B user, the Identity provider is the third party provider based on the email address you provide, but the token would be generated by your Entra ID Tenant.

Enable guest self-service sign up via user flows by navigating to External Identities - External collaboration settings.

Create the sign-up user flow for the B2B user.

Navigate to the user flow, you can add external identity providers, custom user attribute etc. 

You could associate your application with the user flow to show to the users.
